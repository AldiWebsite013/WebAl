<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Giveaway Info</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 50px; }
    #countdown { font-size: 2em; margin: 20px 0; }
  </style>
</head>
<body>

  <h1 id="title">Loading...</h1>
  <p>üéÅ Hadiah: <span id="reward"></span></p>
  <p>üë• Jumlah peserta: <span id="participants"></span></p>
  <div id="countdown">‚è≥ Hitung mundur...</div>

  <script>
    async function loadData() {
      const res = await fetch("http://134.209.219.210:5000/giveaway"); // ganti dengan IP VPS kamu
      const data = await res.json();

      document.getElementById("title").textContent = data.title;
      document.getElementById("reward").textContent = data.reward;
      document.getElementById("participants").textContent = data.participants.length;

      const endTime = new Date(data.end_time);
      function updateCountdown() {
        const now = new Date();
        const diff = Math.max(0, Math.floor((endTime - now) / 1000));
        const h = String(Math.floor(diff / 3600)).padStart(2, "0");
        const m = String(Math.floor((diff % 3600) / 60)).padStart(2, "0");
        const s = String(diff % 60).padStart(2, "0");
        document.getElementById("countdown").textContent = `${h}:${m}:${s}`;
        if (diff <= 0) clearInterval(timer);
      }
      const timer = setInterval(updateCountdown, 1000);
      updateCountdown();
    }

    loadData();
  </script>

</body>
</html>
